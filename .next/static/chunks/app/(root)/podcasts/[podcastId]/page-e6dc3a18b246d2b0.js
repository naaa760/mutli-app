(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{3240:function(e,t,s){Promise.resolve().then(s.bind(s,7270))},7270:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var a=s(7437),r=s(8216),i=s(5105),n=s(2698),l=s(4934),o=s(6648),c=s(6463),d=s(2265),u=s(9253),x=s(7816),h=s(495),f=s(5657),m=e=>{let{audioUrl:t,podcastTitle:s,author:r,imageUrl:n,podcastId:m,imageStorageId:p,audioStorageId:g,isOwner:v,authorImageUrl:j,authorId:b}=e,N=(0,c.useRouter)(),{setAudio:w}=(0,x.Q)(),{toast:y}=(0,f.pm)(),[T,S]=(0,d.useState)(!1),D=(0,l.Db)(u.h.podcasts.deletePodcast),E=async()=>{try{await D({podcastId:m,imageStorageId:p,audioStorageId:g}),y({title:"Podcast deleted"}),N.push("/")}catch(e){console.error("Error deleting podcast",e),y({title:"Error deleting podcast",variant:"destructive"})}};return n&&j?(0,a.jsxs)("div",{className:"mt-6 flex w-full justify-between max-md:justify-center",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-8 max-md:items-center md:flex-row",children:[(0,a.jsx)(o.default,{src:n,width:250,height:250,alt:"Podcast image",className:"aspect-square rounded-lg"}),(0,a.jsxs)("div",{className:"flex w-full flex-col gap-5 max-md:items-center md:gap-9",children:[(0,a.jsxs)("article",{className:"flex flex-col gap-2 max-md:items-center",children:[(0,a.jsx)("h1",{className:"text-32 font-extrabold tracking-[-0.32px] text-white-1",children:s}),(0,a.jsxs)("figure",{className:"flex cursor-pointer items-center gap-2",onClick:()=>{N.push("/profile/".concat(b))},children:[(0,a.jsx)(o.default,{src:j,width:30,height:30,alt:"Caster icon",className:"size-[30px] rounded-full object-cover"}),(0,a.jsx)("h2",{className:"text-16 font-normal text-white-3",children:r})]})]}),(0,a.jsxs)(h.z,{onClick:()=>{w({title:s,audioUrl:t,imageUrl:n,author:r,podcastId:m})},className:"text-16 w-full max-w-[250px] bg-orange-1 font-extrabold text-white-1",children:[(0,a.jsx)(o.default,{src:"/icons/Play.svg",width:20,height:20,alt:"random play"})," ","\xa0 Play podcast"]})]})]}),v&&(0,a.jsxs)("div",{className:"relative mt-2",children:[(0,a.jsx)(o.default,{src:"/icons/three-dots.svg",width:20,height:30,alt:"Three dots icon",className:"cursor-pointer",onClick:()=>S(e=>!e)}),T&&(0,a.jsxs)("div",{className:"absolute -left-32 -top-2 z-10 flex w-32 cursor-pointer justify-center gap-2 rounded-md bg-black-6 py-1.5 hover:bg-black-2",onClick:E,children:[(0,a.jsx)(o.default,{src:"/icons/delete.svg",width:16,height:16,alt:"Delete icon"}),(0,a.jsx)("h2",{className:"text-16 font-normal text-white-1",children:"Delete"})]})]})]}):(0,a.jsx)(i.Z,{})},p=s(3073),g=e=>{let{params:{podcastId:t}}=e,{user:s}=(0,p.aF)(),c=(0,l.aM)(u.h.podcasts.getPodcastById,{podcastId:t}),d=(0,l.aM)(u.h.podcasts.getPodcastByVoiceType,{podcastId:t}),x=(null==s?void 0:s.id)===(null==c?void 0:c.authorId);return d&&c&&c.audioUrl?(0,a.jsxs)("section",{className:"flex w-full flex-col",children:[(0,a.jsxs)("header",{className:"mt-9 flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-20 font-bold text-white-1",children:"Currenty Playing"}),(0,a.jsxs)("figure",{className:"flex gap-3",children:[(0,a.jsx)(o.default,{src:"/icons/headphone.svg",width:24,height:24,alt:"headphone"}),(0,a.jsx)("h2",{className:"text-16 font-bold text-white-1",children:null==c?void 0:c.views})]})]}),(0,a.jsx)(m,{isOwner:x,podcastId:c._id,...c}),(0,a.jsx)("p",{className:"text-white-2 text-16 pb-8 pt-[45px] font-medium max-md:text-center",children:null==c?void 0:c.podcastDescription}),(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("h1",{className:"text-18 font-bold text-white-1",children:"Transcription"}),(0,a.jsx)("p",{className:"text-16 font-medium text-white-2",children:null==c?void 0:c.voicePrompt})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("h1",{className:"text-18 font-bold text-white-1",children:"Thumbnail Prompt"}),(0,a.jsx)("p",{className:"text-16 font-medium text-white-2",children:null==c?void 0:c.imagePrompt})]})]}),(0,a.jsxs)("section",{className:"mt-8 flex flex-col gap-5",children:[(0,a.jsx)("h1",{className:"text-20 font-bold text-white-1",children:"Similar Podcasts"}),d&&d.length>0?(0,a.jsx)("div",{className:"podcast_grid",children:null==d?void 0:d.map(e=>{let{_id:t,podcastTitle:s,podcastDescription:r,imageUrl:i}=e;return(0,a.jsx)(n.Z,{imgUrl:i,title:s,description:r,podcastId:t},t)})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.Z,{title:"No similar podcasts found",buttonLink:"/discover",buttonText:"Discover more podcasts"})})]})]}):(0,a.jsx)(i.Z,{})}},8216:function(e,t,s){"use strict";var a=s(7437),r=s(6648);s(2265);var i=s(495),n=s(7138);t.Z=e=>{let{title:t,search:s,buttonLink:l,buttonText:o}=e;return(0,a.jsxs)("section",{className:"flex-center size-full flex-col gap-3",children:[(0,a.jsx)(r.default,{src:"/icons/emptyState.svg",width:250,height:250,alt:"empty state"}),(0,a.jsxs)("div",{className:"flex-center w-full max-w-[254px] flex-col gap-3",children:[(0,a.jsx)("h1",{className:"text-16 text-center font-medium text-white-1",children:t}),s&&(0,a.jsx)("p",{className:"text-16 text-center font-medium text-white-2",children:"Try adjusting your search to find what you are looking for"}),l&&(0,a.jsx)(i.z,{className:"bg-orange-1",children:(0,a.jsxs)(n.default,{href:l,className:"gap-1 flex",children:[(0,a.jsx)(r.default,{src:"/icons/discover.svg",width:20,height:20,alt:"discover"}),(0,a.jsx)("h1",{className:"text-16 font-extrabold text-white-1",children:o})]})})]})]})}},5105:function(e,t,s){"use strict";var a=s(7437),r=s(9627);s(2265),t.Z=()=>(0,a.jsx)("div",{className:"flex-center h-screen w-full",children:(0,a.jsx)(r.Z,{className:"animate-spin text-orange-1",size:30})})},2698:function(e,t,s){"use strict";var a=s(7437),r=s(6648),i=s(6463);s(2265),t.Z=e=>{let{imgUrl:t,title:s,description:n,podcastId:l}=e,o=(0,i.useRouter)();return(0,a.jsxs)("div",{className:"group cursor-pointer relative p-[1px] rounded-xl transition-all duration-300 hover:-translate-y-2",onClick:()=>{o.push("/podcasts/".concat(l),{scroll:!0})},children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-b from-[#2D6B66]/20 to-[#F5E6D3]/20 blur-sm"}),(0,a.jsxs)("figure",{className:"relative flex flex-col gap-2 p-2 rounded-xl bg-white shadow-sm border border-gray-100",children:[(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-lg",children:[(0,a.jsx)(r.default,{src:t,width:174,height:174,alt:s,className:"aspect-square h-fit w-full object-cover transition-transform duration-500 group-hover:scale-105 2xl:size-[200px]"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-[#2D6B66]/30 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,a.jsxs)("div",{className:"flex flex-col p-2",children:[(0,a.jsx)("h1",{className:"text-16 truncate font-bold text-gray-800 group-hover:text-[#2D6B66] transition-colors",children:s}),(0,a.jsx)("h2",{className:"text-12 truncate font-normal capitalize text-gray-500",children:n}),(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-[#2D6B66] animate-pulse"}),(0,a.jsx)("span",{className:"text-11 text-[#2D6B66]",children:"Click to play"})]})]})]})]})}},495:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var a=s(7437),r=s(2265),i=s(1538),n=s(2218),l=s(7440);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",plain:"border-none bg-transparent text-[16px] font-bold leading-normal text-white-1"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:c=!1,...d}=e,u=c?i.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:r,size:n,className:s})),ref:t,...d})});c.displayName="Button"},5657:function(e,t,s){"use strict";s.d(t,{pm:function(){return x}});var a=s(2265);let r=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function d(e){c=l(c,e),o.forEach(e=>{e(c)})}function u(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function x(){let[e,t]=a.useState(c);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},9253:function(e,t,s){"use strict";s.d(t,{h:function(){return a}});let a=s(2539).qL},7440:function(e,t,s){"use strict";s.d(t,{cn:function(){return i}});var a=s(4839),r=s(6164);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}},7816:function(e,t,s){"use strict";s.d(t,{Q:function(){return l}});var a=s(7437),r=s(6463),i=s(2265);let n=(0,i.createContext)(void 0),l=()=>{let e=(0,i.useContext)(n);if(!e)throw Error("useAudio must be used within an AudioProvider");return e};t.default=e=>{let{children:t}=e,[s,l]=(0,i.useState)(),o=(0,r.usePathname)();return(0,i.useEffect)(()=>{"/create-podcast"===o&&l(void 0)},[o]),(0,a.jsx)(n.Provider,{value:{audio:s,setAudio:l},children:t})}}},function(e){e.O(0,[173,523,766,704,73,183,138,971,23,744],function(){return e(e.s=3240)}),_N_E=e.O()}]);